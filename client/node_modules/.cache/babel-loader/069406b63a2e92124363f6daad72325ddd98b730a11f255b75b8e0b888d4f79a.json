{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaypo\\\\OneDrive\\\\Desktop\\\\PalmRunLLC\\\\client\\\\src\\\\pages\\\\Lease.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { toast } from 'react-hot-toast';\nimport axios from 'axios';\nimport { FileText, Download, Eye, AlertCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Lease = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [leaseData, setLeaseData] = useState(null);\n  const [leaseContent, setLeaseContent] = useState('');\n  const [showPreview, setShowPreview] = useState(false);\n  const loadLeaseStatus = useCallback(async () => {\n    try {\n      const response = await axios.get('/api/lease/status');\n      if (response.data.hasApplication) {\n        setLeaseData(response.data);\n        // If there's a lease agreement, automatically generate and display it\n        if (response.data.leaseSigned || response.data.leaseStartDate) {\n          await generateLeaseFromData(response.data);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading lease status:', error);\n    }\n  }, []);\n  const generateLeaseFromData = useCallback(async leaseInfo => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/api/lease/generate', {\n        leaseStartDate: (leaseInfo === null || leaseInfo === void 0 ? void 0 : leaseInfo.leaseStartDate) || formatDateForAPI(new Date()),\n        leaseEndDate: (leaseInfo === null || leaseInfo === void 0 ? void 0 : leaseInfo.leaseStartDate) || formatDateForAPI(new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)),\n        rentalAmount: (leaseInfo === null || leaseInfo === void 0 ? void 0 : leaseInfo.rentalAmount) || 2500\n      });\n      setLeaseContent(response.data.leaseAgreement);\n      toast.success('Lease agreement loaded successfully!');\n    } catch (error) {\n      console.error('Error loading existing lease:', error);\n      toast.error('Error loading lease agreement');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    if (user) {\n      loadLeaseStatus();\n    }\n  }, [user, loadLeaseStatus]);\n  const generateLease = async () => {\n    if (!leaseData) {\n      toast.error('No lease information available');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.post('/api/lease/generate', {\n        leaseStartDate: (leaseData === null || leaseData === void 0 ? void 0 : leaseData.leaseStartDate) || formatDateForAPI(new Date()),\n        leaseEndDate: (leaseData === null || leaseData === void 0 ? void 0 : leaseData.leaseEndDate) || formatDateForAPI(new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)),\n        rentalAmount: (leaseData === null || leaseData === void 0 ? void 0 : leaseData.rentalAmount) || 2500\n      });\n      setLeaseContent(response.data.leaseAgreement);\n      setLeaseData(response.data.application);\n      toast.success('Lease agreement generated successfully!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error generating lease');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const previewLease = async () => {\n    if (!leaseContent) {\n      await generateLease();\n    }\n    if (leaseContent) {\n      setShowPreview(true);\n    }\n  };\n  const downloadLease = async () => {\n    try {\n      const response = await axios.get('/api/lease/download', {\n        params: {\n          leaseStartDate: (leaseData === null || leaseData === void 0 ? void 0 : leaseData.leaseStartDate) || formatDateForAPI(new Date()),\n          leaseEndDate: (leaseData === null || leaseData === void 0 ? void 0 : leaseData.leaseEndDate) || formatDateForAPI(new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)),\n          rentalAmount: (leaseData === null || leaseData === void 0 ? void 0 : leaseData.rentalAmount) || 2500\n        },\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `lease-agreement-${user.firstName}-${user.lastName}.txt`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n      toast.success('Lease agreement downloaded successfully!');\n    } catch (error) {\n      toast.error('Error downloading lease agreement');\n    }\n  };\n  const formatDate = dateString => {\n    if (!dateString) return 'Not set';\n    try {\n      // Handle both date strings and Date objects\n      let dateObj;\n      if (typeof dateString === 'string') {\n        // If it's a date string like \"2025-01-01\", parse it directly\n        if (dateString.includes('-')) {\n          const [year, month, day] = dateString.split('-').map(Number);\n          dateObj = new Date(year, month - 1, day);\n        } else {\n          dateObj = new Date(dateString);\n        }\n      } else {\n        dateObj = new Date(dateString);\n      }\n\n      // Check if the date is valid\n      if (isNaN(dateObj.getTime())) {\n        return 'Invalid Date';\n      }\n      return dateObj.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return 'Invalid Date';\n    }\n  };\n\n  // Helper function to format dates for API calls (YYYY-MM-DD format)\n  const formatDateForAPI = date => {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"mx-auto h-12 w-12 text-red-500 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: \"Please log in to access your lease\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/login'),\n          className: \"mt-4 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-dark transition-colors\",\n          children: \"Go to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-primary px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-white flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"mr-3 h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), \"Lease Agreement\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), leaseData && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-primary-light\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${leaseData.leaseSigned ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`,\n              children: leaseData.leaseSigned ? 'Signed' : 'Available for Review'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [!leaseData && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"h-5 w-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-yellow-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: \"Application Required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1\",\n                  children: \"You need to complete your rental application before you can access your lease agreement.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => navigate('/application'),\n                  className: \"mt-2 bg-yellow-600 text-white px-4 py-2 rounded-md text-sm hover:bg-yellow-700 transition-colors\",\n                  children: \"Complete Application\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), leaseData && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-blue-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: leaseData.leaseSigned ? 'Lease Agreement Signed' : 'Lease Agreement Available'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1\",\n                  children: leaseData.leaseSigned ? 'Your lease agreement has been signed and is active. You can view and download it below.' : 'Your lease agreement is ready for review. You can generate, preview, and download it below.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), leaseData.leaseStartDate && leaseData.leaseEndDate && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs\",\n                  children: [\"Lease Period: \", formatDate(leaseData.leaseStartDate), \" - \", formatDate(leaseData.leaseEndDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), leaseData.rentalAmount && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs\",\n                  children: [\"Monthly Rent: $\", leaseData.rentalAmount.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), leaseData && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-3\",\n              children: [!leaseContent && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => generateLeaseFromData(leaseData),\n                  disabled: loading,\n                  className: \"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 25\n                  }, this), loading ? 'Loading...' : 'Load Lease']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: generateLease,\n                  disabled: loading,\n                  className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this), loading ? 'Generating...' : 'Generate New Lease']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), leaseContent && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: previewLease,\n                  className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Eye, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 25\n                  }, this), \"Preview Lease\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: downloadLease,\n                  className: \"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Download, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this), \"Download Lease\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), leaseContent && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: leaseData !== null && leaseData !== void 0 && leaseData.leaseSigned ? 'Your Lease Agreement' : 'Generated Lease Agreement'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: previewLease,\n                  className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Eye, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this), \"Preview\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: downloadLease,\n                  className: \"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Download, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 23\n                  }, this), \"Download\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"pre\", {\n                className: \"whitespace-pre-wrap text-sm font-mono text-gray-800\",\n                children: leaseContent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), showPreview && leaseContent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: \"Lease Agreement Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowPreview(false),\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"whitespace-pre-wrap text-sm font-mono text-gray-800 leading-relaxed\",\n              children: leaseContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 mt-6 pt-6 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowPreview(false),\n              className: \"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: downloadLease,\n              className: \"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"w-4 h-4 mr-2 inline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this), \"Download\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n_s(Lease, \"yrumfNqgYSd9e87dNIG9DUoyYlc=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Lease;\nexport default Lease;\nvar _c;\n$RefreshReg$(_c, \"Lease\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useAuth","toast","axios","FileText","Download","Eye","AlertCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","Lease","_s","user","navigate","loading","setLoading","leaseData","setLeaseData","leaseContent","setLeaseContent","showPreview","setShowPreview","loadLeaseStatus","response","get","data","hasApplication","leaseSigned","leaseStartDate","generateLeaseFromData","error","console","leaseInfo","post","formatDateForAPI","Date","leaseEndDate","now","rentalAmount","leaseAgreement","success","generateLease","application","_error$response","_error$response$data","previewLease","downloadLease","params","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","firstName","lastName","body","appendChild","click","remove","revokeObjectURL","formatDate","dateString","dateObj","includes","year","month","day","split","map","Number","isNaN","getTime","toLocaleDateString","date","getFullYear","String","getMonth","padStart","getDate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toLocaleString","disabled","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/Users/jaypo/OneDrive/Desktop/PalmRunLLC/client/src/pages/Lease.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport axios from 'axios';\r\nimport {\r\n  FileText,\r\n  Download,\r\n  Eye,\r\n  AlertCircle\r\n} from 'lucide-react';\r\n\r\nconst Lease = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [leaseData, setLeaseData] = useState(null);\r\n  const [leaseContent, setLeaseContent] = useState('');\r\n  const [showPreview, setShowPreview] = useState(false);\r\n\r\n  const loadLeaseStatus = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get('/api/lease/status');\r\n      if (response.data.hasApplication) {\r\n        setLeaseData(response.data);\r\n        // If there's a lease agreement, automatically generate and display it\r\n        if (response.data.leaseSigned || response.data.leaseStartDate) {\r\n          await generateLeaseFromData(response.data);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading lease status:', error);\r\n    }\r\n  }, []);\r\n\r\n  const generateLeaseFromData = useCallback(async (leaseInfo) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.post('/api/lease/generate', {\r\n        leaseStartDate: leaseInfo?.leaseStartDate || formatDateForAPI(new Date()),\r\n        leaseEndDate: leaseInfo?.leaseStartDate || formatDateForAPI(new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)),\r\n        rentalAmount: leaseInfo?.rentalAmount || 2500\r\n      });\r\n      setLeaseContent(response.data.leaseAgreement);\r\n      toast.success('Lease agreement loaded successfully!');\r\n    } catch (error) {\r\n      console.error('Error loading existing lease:', error);\r\n      toast.error('Error loading lease agreement');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadLeaseStatus();\r\n    }\r\n  }, [user, loadLeaseStatus]);\r\n\r\n\r\n  const generateLease = async () => {\r\n    if (!leaseData) {\r\n      toast.error('No lease information available');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post('/api/lease/generate', {\r\n        leaseStartDate: leaseData?.leaseStartDate || formatDateForAPI(new Date()),\r\n        leaseEndDate: leaseData?.leaseEndDate || formatDateForAPI(new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)),\r\n        rentalAmount: leaseData?.rentalAmount || 2500\r\n      });\r\n      setLeaseContent(response.data.leaseAgreement);\r\n      setLeaseData(response.data.application);\r\n      toast.success('Lease agreement generated successfully!');\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.error || 'Error generating lease');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const previewLease = async () => {\r\n    if (!leaseContent) {\r\n      await generateLease();\r\n    }\r\n    if (leaseContent) {\r\n      setShowPreview(true);\r\n    }\r\n  };\r\n\r\n  const downloadLease = async () => {\r\n    try {\r\n      const response = await axios.get('/api/lease/download', {\r\n        params: {\r\n          leaseStartDate: leaseData?.leaseStartDate || formatDateForAPI(new Date()),\r\n          leaseEndDate: leaseData?.leaseEndDate || formatDateForAPI(new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)),\r\n          rentalAmount: leaseData?.rentalAmount || 2500\r\n        },\r\n        responseType: 'blob'\r\n      });\r\n      \r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `lease-agreement-${user.firstName}-${user.lastName}.txt`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n      window.URL.revokeObjectURL(url);\r\n      \r\n      toast.success('Lease agreement downloaded successfully!');\r\n    } catch (error) {\r\n      toast.error('Error downloading lease agreement');\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Not set';\r\n    \r\n    try {\r\n      // Handle both date strings and Date objects\r\n      let dateObj;\r\n      if (typeof dateString === 'string') {\r\n        // If it's a date string like \"2025-01-01\", parse it directly\r\n        if (dateString.includes('-')) {\r\n          const [year, month, day] = dateString.split('-').map(Number);\r\n          dateObj = new Date(year, month - 1, day);\r\n        } else {\r\n          dateObj = new Date(dateString);\r\n        }\r\n      } else {\r\n        dateObj = new Date(dateString);\r\n      }\r\n      \r\n      // Check if the date is valid\r\n      if (isNaN(dateObj.getTime())) {\r\n        return 'Invalid Date';\r\n      }\r\n      \r\n      return dateObj.toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n    } catch (error) {\r\n      console.error('Error formatting date:', error);\r\n      return 'Invalid Date';\r\n    }\r\n  };\r\n\r\n  // Helper function to format dates for API calls (YYYY-MM-DD format)\r\n  const formatDateForAPI = (date) => {\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertCircle className=\"mx-auto h-12 w-12 text-red-500 mb-4\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-900\">Please log in to access your lease</h2>\r\n          <button\r\n            onClick={() => navigate('/login')}\r\n            className=\"mt-4 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-dark transition-colors\"\r\n          >\r\n            Go to Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n          {/* Header */}\r\n          <div className=\"bg-primary px-6 py-4\">\r\n            <h1 className=\"text-2xl font-bold text-white flex items-center\">\r\n              <FileText className=\"mr-3 h-6 w-6\" />\r\n              Lease Agreement\r\n            </h1>\r\n            {leaseData && (\r\n              <div className=\"mt-2 text-primary-light\">\r\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                  leaseData.leaseSigned \r\n                    ? 'bg-green-100 text-green-800' \r\n                    : 'bg-yellow-100 text-yellow-800'\r\n                }`}>\r\n                  {leaseData.leaseSigned ? 'Signed' : 'Available for Review'}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {/* Application Status Check - Only show if no lease data */}\r\n            {!leaseData && !loading && (\r\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\r\n                <div className=\"flex items-start\">\r\n                  <AlertCircle className=\"h-5 w-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0\" />\r\n                  <div className=\"text-sm text-yellow-800\">\r\n                    <p className=\"font-medium\">Application Required</p>\r\n                    <p className=\"mt-1\">\r\n                      You need to complete your rental application before you can access your lease agreement.\r\n                    </p>\r\n                    <button\r\n                      onClick={() => navigate('/application')}\r\n                      className=\"mt-2 bg-yellow-600 text-white px-4 py-2 rounded-md text-sm hover:bg-yellow-700 transition-colors\"\r\n                    >\r\n                      Complete Application\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Lease Status Display */}\r\n            {leaseData && (\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\r\n                <div className=\"flex items-start\">\r\n                  <AlertCircle className=\"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0\" />\r\n                  <div className=\"text-sm text-blue-800\">\r\n                    <p className=\"font-medium\">\r\n                      {leaseData.leaseSigned ? 'Lease Agreement Signed' : 'Lease Agreement Available'}\r\n                    </p>\r\n                    <p className=\"mt-1\">\r\n                      {leaseData.leaseSigned \r\n                        ? 'Your lease agreement has been signed and is active. You can view and download it below.'\r\n                        : 'Your lease agreement is ready for review. You can generate, preview, and download it below.'\r\n                      }\r\n                    </p>\r\n                    {leaseData.leaseStartDate && leaseData.leaseEndDate && (\r\n                      <p className=\"mt-1 text-xs\">\r\n                        Lease Period: {formatDate(leaseData.leaseStartDate)} - {formatDate(leaseData.leaseEndDate)}\r\n                      </p>\r\n                    )}\r\n                    {leaseData.rentalAmount && (\r\n                      <p className=\"mt-1 text-xs\">\r\n                        Monthly Rent: ${leaseData.rentalAmount.toLocaleString()}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Lease Actions */}\r\n            {leaseData && (\r\n              <div className=\"mb-6\">\r\n                <div className=\"flex flex-wrap gap-3\">\r\n                  {!leaseContent && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => generateLeaseFromData(leaseData)}\r\n                        disabled={loading}\r\n                        className=\"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center\"\r\n                      >\r\n                        <FileText className=\"w-4 h-4 mr-2\" />\r\n                        {loading ? 'Loading...' : 'Load Lease'}\r\n                      </button>\r\n                      \r\n                      <button\r\n                        onClick={generateLease}\r\n                        disabled={loading}\r\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center\"\r\n                      >\r\n                        <FileText className=\"w-4 h-4 mr-2\" />\r\n                        {loading ? 'Generating...' : 'Generate New Lease'}\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  \r\n                  {leaseContent && (\r\n                    <>\r\n                      <button\r\n                        onClick={previewLease}\r\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center\"\r\n                      >\r\n                        <Eye className=\"w-4 h-4 mr-2\" />\r\n                        Preview Lease\r\n                      </button>\r\n                      \r\n                      <button\r\n                        onClick={downloadLease}\r\n                        className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors flex items-center\"\r\n                      >\r\n                        <Download className=\"w-4 h-4 mr-2\" />\r\n                        Download Lease\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n\r\n\r\n            {leaseContent && (\r\n              <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                    {leaseData?.leaseSigned ? 'Your Lease Agreement' : 'Generated Lease Agreement'}\r\n                  </h3>\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      onClick={previewLease}\r\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center\"\r\n                    >\r\n                      <Eye className=\"w-4 h-4 mr-2\" />\r\n                      Preview\r\n                    </button>\r\n                    <button\r\n                      onClick={downloadLease}\r\n                      className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors flex items-center\"\r\n                    >\r\n                      <Download className=\"w-4 h-4 mr-2\" />\r\n                      Download\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto\">\r\n                  <pre className=\"whitespace-pre-wrap text-sm font-mono text-gray-800\">\r\n                    {leaseContent}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Lease Preview Modal */}\r\n      {showPreview && leaseContent && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                  Lease Agreement Preview\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowPreview(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <span className=\"sr-only\">Close</span>\r\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n                <pre className=\"whitespace-pre-wrap text-sm font-mono text-gray-800 leading-relaxed\">\r\n                  {leaseContent}\r\n                </pre>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-3 mt-6 pt-6 border-t\">\r\n                <button\r\n                  onClick={() => setShowPreview(false)}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary\"\r\n                >\r\n                  Close\r\n                </button>\r\n                <button\r\n                  onClick={downloadLease}\r\n                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\r\n                >\r\n                  <Download className=\"w-4 h-4 mr-2 inline\" />\r\n                  Download\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lease;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}