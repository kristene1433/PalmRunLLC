{"ast":null,"code":"import _objectSpread from\"C:/Users/jaypo/OneDrive/Desktop/PalmRunLLC/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{User,MapPin,Phone,Users,Plus,Trash2,FileText,Save,Edit}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Application=()=>{const{user}=useAuth();const navigate=useNavigate();const[formData,setFormData]=useState({firstName:'',lastName:'',address:{street:'',city:'',state:'',zipCode:''},phone:'',additionalGuests:[]});const[isLoading,setIsLoading]=useState(false);const[isLoadingData,setIsLoadingData]=useState(true);const[errors,setErrors]=useState({});const[existingApplication,setExistingApplication]=useState(null);// Load existing application data when component mounts\nuseEffect(()=>{if(!user)return;// Early return if no user, but hook still gets called\nconst loadApplicationData=async()=>{try{const response=await fetch('/api/application',{method:'GET',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();if(data.application){var _data$application$add,_data$application$add2,_data$application$add3,_data$application$add4;setExistingApplication(data.application);// Pre-fill form with existing data\nsetFormData({firstName:data.application.firstName||'',lastName:data.application.lastName||'',address:{street:((_data$application$add=data.application.address)===null||_data$application$add===void 0?void 0:_data$application$add.street)||'',city:((_data$application$add2=data.application.address)===null||_data$application$add2===void 0?void 0:_data$application$add2.city)||'',state:((_data$application$add3=data.application.address)===null||_data$application$add3===void 0?void 0:_data$application$add3.state)||'',zipCode:((_data$application$add4=data.application.address)===null||_data$application$add4===void 0?void 0:_data$application$add4.zipCode)||''},phone:data.application.phone||'',additionalGuests:(data.application.additionalGuests||[]).map(guest=>_objectSpread(_objectSpread({},guest),{},{id:guest.id||Date.now()+Math.random()// Add id for frontend tracking\n}))});}}}catch(error){console.error('Error loading application:',error);// Don't show error toast for this, just continue with empty form\n}finally{setIsLoadingData(false);}};loadApplicationData();},[user]);// Check if user is authenticated\nif(!user){navigate('/login');return null;}const handleChange=e=>{const{name,value}=e.target;if(name.includes('.')){const[parent,child]=name.split('.');setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[parent]:_objectSpread(_objectSpread({},prev[parent]),{},{[child]:value})}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const addGuest=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{additionalGuests:[...prev.additionalGuests,{id:Date.now(),firstName:'',lastName:'',isAdult:true}]}));};const removeGuest=guestId=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{additionalGuests:prev.additionalGuests.filter(guest=>guest.id!==guestId)}));};const updateGuest=(guestId,field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{additionalGuests:prev.additionalGuests.map(guest=>guest.id===guestId?_objectSpread(_objectSpread({},guest),{},{[field]:value}):guest)}));};const validateForm=()=>{const newErrors={};// Required fields\nif(!formData.firstName.trim())newErrors.firstName='First name is required';if(!formData.lastName.trim())newErrors.lastName='Last name is required';if(!formData.phone.trim())newErrors.phone='Phone number is required';if(!formData.address.street.trim())newErrors['address.street']='Street address is required';if(!formData.address.city.trim())newErrors['address.city']='City is required';if(!formData.address.state.trim())newErrors['address.state']='State is required';if(!formData.address.zipCode.trim())newErrors['address.zipCode']='ZIP code is required';// Phone validation\nif(formData.phone&&!/^[+]?[1-9][\\d]{0,15}$/.test(formData.phone.replace(/[\\s\\-()]/g,''))){newErrors.phone='Please enter a valid phone number';}// ZIP code validation\nif(formData.address.zipCode&&!/^\\d{5}(-\\d{4})?$/.test(formData.address.zipCode)){newErrors['address.zipCode']='Please enter a valid ZIP code';}// Validate additional guests\nformData.additionalGuests.forEach((guest,index)=>{if(guest.firstName.trim()&&!guest.lastName.trim()){newErrors[\"guest\".concat(index,\"LastName\")]='Last name is required for additional guest';}if(!guest.firstName.trim()&&guest.lastName.trim()){newErrors[\"guest\".concat(index,\"FirstName\")]='First name is required for additional guest';}});setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){toast.error('Please fix the errors before submitting');return;}setIsLoading(true);try{// Filter out empty guest entries and remove frontend-only 'id' field\nconst filteredGuests=formData.additionalGuests.filter(guest=>guest.firstName.trim()&&guest.lastName.trim()).map(guest=>({firstName:guest.firstName,lastName:guest.lastName,isAdult:guest.isAdult}));const applicationData=_objectSpread(_objectSpread({},formData),{},{additionalGuests:filteredGuests});// Determine if this is a create or update operation\nconst isUpdate=existingApplication!==null;const method=isUpdate?'PUT':'POST';const successMessage=isUpdate?'Application updated successfully!':'Application submitted successfully!';// Send the data to the backend\nconst response=await fetch('/api/application',{method:method,headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify(applicationData)});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||\"Failed to \".concat(isUpdate?'update':'submit',\" application\"));}const result=await response.json();// Update the existing application state\nsetExistingApplication(result.application);toast.success(successMessage);navigate('/dashboard');}catch(error){toast.error(error.message||\"Failed to \".concat(existingApplication?'update':'submit',\" application. Please try again.\"));console.error('Application submission error:',error);}finally{setIsLoading(false);}};const getFieldError=fieldName=>{return errors[fieldName]||'';};// Show loading spinner while loading data\nif(isLoadingData){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading application...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center mb-4\",children:existingApplication?/*#__PURE__*/_jsx(Edit,{className:\"h-8 w-8 text-white\"}):/*#__PURE__*/_jsx(FileText,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:existingApplication?'Edit Application':'Rental Application'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:existingApplication?'Update your rental application information':'Complete your application for the Gulf Shores beachfront condo'}),existingApplication&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800\",children:[\"Application Status: \",existingApplication.status||'Submitted']})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Personal Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",className:\"form-label\",children:\"First Name *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"firstName\",name:\"firstName\",type:\"text\",autoComplete:\"given-name\",required:true,value:formData.firstName,onChange:handleChange,className:\"input-field \".concat(getFieldError('firstName')?'border-red-300 focus:ring-red-500':''),placeholder:\"Enter your first name\"}),getFieldError('firstName')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('firstName')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",className:\"form-label\",children:\"Last Name *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",name:\"lastName\",type:\"text\",autoComplete:\"family-name\",required:true,value:formData.lastName,onChange:handleChange,className:\"input-field \".concat(getFieldError('lastName')?'border-red-300 focus:ring-red-500':''),placeholder:\"Enter your last name\"}),getFieldError('lastName')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('lastName')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",className:\"form-label\",children:\"Phone Number *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Phone,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"tel\",autoComplete:\"tel\",required:true,value:formData.phone,onChange:handleChange,className:\"input-field pl-10 \".concat(getFieldError('phone')?'border-red-300 focus:ring-red-500':''),placeholder:\"Enter your phone number\"})]}),getFieldError('phone')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('phone')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Address\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address.street\",className:\"form-label\",children:\"Street Address *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"address.street\",name:\"address.street\",type:\"text\",autoComplete:\"street-address\",required:true,value:formData.address.street,onChange:handleChange,className:\"input-field \".concat(getFieldError('address.street')?'border-red-300 focus:ring-red-500':''),placeholder:\"Enter street address\"}),getFieldError('address.street')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('address.street')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address.city\",className:\"form-label\",children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"address.city\",name:\"address.city\",type:\"text\",autoComplete:\"address-level2\",required:true,value:formData.address.city,onChange:handleChange,className:\"input-field \".concat(getFieldError('address.city')?'border-red-300 focus:ring-red-500':''),placeholder:\"City\"}),getFieldError('address.city')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('address.city')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address.state\",className:\"form-label\",children:\"State *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"address.state\",name:\"address.state\",type:\"text\",autoComplete:\"address-level1\",required:true,value:formData.address.state,onChange:handleChange,className:\"input-field \".concat(getFieldError('address.state')?'border-red-300 focus:ring-red-500':''),placeholder:\"State\"}),getFieldError('address.state')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('address.state')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address.zipCode\",className:\"form-label\",children:\"ZIP Code *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"address.zipCode\",name:\"address.zipCode\",type:\"text\",autoComplete:\"postal-code\",required:true,value:formData.address.zipCode,onChange:handleChange,className:\"input-field \".concat(getFieldError('address.zipCode')?'border-red-300 focus:ring-red-500':''),placeholder:\"ZIP Code\"}),getFieldError('address.zipCode')&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError('address.zipCode')})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Additional Guests\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:addGuest,className:\"btn-secondary flex items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Guest\"]})]}),formData.additionalGuests.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:\"No additional guests added yet. Click \\\"Add Guest\\\" to include family members or roommates.\"}),formData.additionalGuests.map((guest,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900\",children:[\"Guest \",index+1]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeGuest(guest.id),className:\"text-red-600 hover:text-red-800 p-1\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:guest.firstName,onChange:e=>updateGuest(guest.id,'firstName',e.target.value),className:\"input-field \".concat(getFieldError(\"guest\".concat(index,\"FirstName\"))?'border-red-300 focus:ring-red-500':''),placeholder:\"First name\"}),getFieldError(\"guest\".concat(index,\"FirstName\"))&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError(\"guest\".concat(index,\"FirstName\"))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:guest.lastName,onChange:e=>updateGuest(guest.id,'lastName',e.target.value),className:\"input-field \".concat(getFieldError(\"guest\".concat(index,\"LastName\"))?'border-red-300 focus:ring-red-500':''),placeholder:\"Last name\"}),getFieldError(\"guest\".concat(index,\"LastName\"))&&/*#__PURE__*/_jsx(\"p\",{className:\"form-error\",children:getFieldError(\"guest\".concat(index,\"LastName\"))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"adult-\".concat(guest.id),type:\"checkbox\",checked:guest.isAdult,onChange:e=>updateGuest(guest.id,'isAdult',e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adult-\".concat(guest.id),className:\"ml-2 text-sm text-gray-700\",children:\"Adult (18+ years old)\"})]})]},guest.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/dashboard'),className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:isLoading,className:\"btn-primary flex items-center\",children:[isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}):/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),existingApplication?'Update Application':'Submit Application']})]})]})})]})});};export default Application;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","User","MapPin","Phone","Users","Plus","Trash2","FileText","Save","Edit","toast","jsx","_jsx","jsxs","_jsxs","Application","user","navigate","formData","setFormData","firstName","lastName","address","street","city","state","zipCode","phone","additionalGuests","isLoading","setIsLoading","isLoadingData","setIsLoadingData","errors","setErrors","existingApplication","setExistingApplication","loadApplicationData","response","fetch","method","headers","concat","localStorage","getItem","ok","data","json","application","_data$application$add","_data$application$add2","_data$application$add3","_data$application$add4","map","guest","_objectSpread","id","Date","now","Math","random","error","console","handleChange","e","name","value","target","includes","parent","child","split","prev","addGuest","isAdult","removeGuest","guestId","filter","updateGuest","field","validateForm","newErrors","trim","test","replace","forEach","index","Object","keys","length","handleSubmit","preventDefault","filteredGuests","applicationData","isUpdate","successMessage","body","JSON","stringify","errorData","Error","result","success","message","getFieldError","fieldName","className","children","status","onSubmit","htmlFor","type","autoComplete","required","onChange","placeholder","onClick","checked","disabled"],"sources":["C:/Users/jaypo/OneDrive/Desktop/PalmRunLLC/client/src/pages/Application.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { \r\n  User, \r\n  MapPin, \r\n  Phone, \r\n  Users, \r\n  Plus, \r\n  Trash2,\r\n  FileText,\r\n  Save,\r\n  Edit\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Application = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    address: {\r\n      street: '',\r\n      city: '',\r\n      state: '',\r\n      zipCode: ''\r\n    },\r\n    phone: '',\r\n    additionalGuests: []\r\n  });\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLoadingData, setIsLoadingData] = useState(true);\r\n  const [errors, setErrors] = useState({});\r\n  const [existingApplication, setExistingApplication] = useState(null);\r\n\r\n  // Load existing application data when component mounts\r\n  useEffect(() => {\r\n    if (!user) return; // Early return if no user, but hook still gets called\r\n    \r\n    const loadApplicationData = async () => {\r\n      try {\r\n        const response = await fetch('/api/application', {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          if (data.application) {\r\n            setExistingApplication(data.application);\r\n            // Pre-fill form with existing data\r\n            setFormData({\r\n              firstName: data.application.firstName || '',\r\n              lastName: data.application.lastName || '',\r\n              address: {\r\n                street: data.application.address?.street || '',\r\n                city: data.application.address?.city || '',\r\n                state: data.application.address?.state || '',\r\n                zipCode: data.application.address?.zipCode || ''\r\n              },\r\n              phone: data.application.phone || '',\r\n              additionalGuests: (data.application.additionalGuests || []).map(guest => ({\r\n                ...guest,\r\n                id: guest.id || Date.now() + Math.random() // Add id for frontend tracking\r\n              }))\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading application:', error);\r\n        // Don't show error toast for this, just continue with empty form\r\n      } finally {\r\n        setIsLoadingData(false);\r\n      }\r\n    };\r\n\r\n    loadApplicationData();\r\n  }, [user]);\r\n\r\n  // Check if user is authenticated\r\n  if (!user) {\r\n    navigate('/login');\r\n    return null;\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const addGuest = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      additionalGuests: [\r\n        ...prev.additionalGuests,\r\n        {\r\n          id: Date.now(),\r\n          firstName: '',\r\n          lastName: '',\r\n          isAdult: true\r\n        }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const removeGuest = (guestId) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      additionalGuests: prev.additionalGuests.filter(guest => guest.id !== guestId)\r\n    }));\r\n  };\r\n\r\n  const updateGuest = (guestId, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      additionalGuests: prev.additionalGuests.map(guest =>\r\n        guest.id === guestId ? { ...guest, [field]: value } : guest\r\n      )\r\n    }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    // Required fields\r\n    if (!formData.firstName.trim()) newErrors.firstName = 'First name is required';\r\n    if (!formData.lastName.trim()) newErrors.lastName = 'Last name is required';\r\n    if (!formData.phone.trim()) newErrors.phone = 'Phone number is required';\r\n    if (!formData.address.street.trim()) newErrors['address.street'] = 'Street address is required';\r\n    if (!formData.address.city.trim()) newErrors['address.city'] = 'City is required';\r\n    if (!formData.address.state.trim()) newErrors['address.state'] = 'State is required';\r\n    if (!formData.address.zipCode.trim()) newErrors['address.zipCode'] = 'ZIP code is required';\r\n\r\n    // Phone validation\r\n    if (formData.phone && !/^[+]?[1-9][\\d]{0,15}$/.test(formData.phone.replace(/[\\s\\-()]/g, ''))) {\r\n      newErrors.phone = 'Please enter a valid phone number';\r\n    }\r\n\r\n    // ZIP code validation\r\n    if (formData.address.zipCode && !/^\\d{5}(-\\d{4})?$/.test(formData.address.zipCode)) {\r\n      newErrors['address.zipCode'] = 'Please enter a valid ZIP code';\r\n    }\r\n\r\n    // Validate additional guests\r\n    formData.additionalGuests.forEach((guest, index) => {\r\n      if (guest.firstName.trim() && !guest.lastName.trim()) {\r\n        newErrors[`guest${index}LastName`] = 'Last name is required for additional guest';\r\n      }\r\n      if (!guest.firstName.trim() && guest.lastName.trim()) {\r\n        newErrors[`guest${index}FirstName`] = 'First name is required for additional guest';\r\n      }\r\n    });\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      toast.error('Please fix the errors before submitting');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      // Filter out empty guest entries and remove frontend-only 'id' field\r\n      const filteredGuests = formData.additionalGuests\r\n        .filter(guest => guest.firstName.trim() && guest.lastName.trim())\r\n        .map(guest => ({\r\n          firstName: guest.firstName,\r\n          lastName: guest.lastName,\r\n          isAdult: guest.isAdult\r\n        }));\r\n\r\n      const applicationData = {\r\n        ...formData,\r\n        additionalGuests: filteredGuests\r\n      };\r\n\r\n      // Determine if this is a create or update operation\r\n      const isUpdate = existingApplication !== null;\r\n      const method = isUpdate ? 'PUT' : 'POST';\r\n      const successMessage = isUpdate ? 'Application updated successfully!' : 'Application submitted successfully!';\r\n\r\n      // Send the data to the backend\r\n      const response = await fetch('/api/application', {\r\n        method: method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: JSON.stringify(applicationData)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || `Failed to ${isUpdate ? 'update' : 'submit'} application`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      // Update the existing application state\r\n      setExistingApplication(result.application);\r\n      \r\n      toast.success(successMessage);\r\n      navigate('/dashboard');\r\n    } catch (error) {\r\n      toast.error(error.message || `Failed to ${existingApplication ? 'update' : 'submit'} application. Please try again.`);\r\n      console.error('Application submission error:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getFieldError = (fieldName) => {\r\n    return errors[fieldName] || '';\r\n  };\r\n\r\n  // Show loading spinner while loading data\r\n  if (isLoadingData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading application...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center mb-4\">\r\n            {existingApplication ? (\r\n              <Edit className=\"h-8 w-8 text-white\" />\r\n            ) : (\r\n              <FileText className=\"h-8 w-8 text-white\" />\r\n            )}\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            {existingApplication ? 'Edit Application' : 'Rental Application'}\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600\">\r\n            {existingApplication \r\n              ? 'Update your rental application information' \r\n              : 'Complete your application for the Gulf Shores beachfront condo'\r\n            }\r\n          </p>\r\n          {existingApplication && (\r\n            <div className=\"mt-2\">\r\n              <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800\">\r\n                Application Status: {existingApplication.status || 'Submitted'}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"card\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n            {/* Personal Information Section */}\r\n            <div className=\"form-section\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-6 flex items-center\">\r\n                <User className=\"h-5 w-5 mr-2 text-blue-600\" />\r\n                Personal Information\r\n              </h3>\r\n              \r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"firstName\" className=\"form-label\">\r\n                    First Name *\r\n                  </label>\r\n                  <input\r\n                    id=\"firstName\"\r\n                    name=\"firstName\"\r\n                    type=\"text\"\r\n                    autoComplete=\"given-name\"\r\n                    required\r\n                    value={formData.firstName}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${getFieldError('firstName') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                    placeholder=\"Enter your first name\"\r\n                  />\r\n                  {getFieldError('firstName') && (\r\n                    <p className=\"form-error\">{getFieldError('firstName')}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"lastName\" className=\"form-label\">\r\n                    Last Name *\r\n                  </label>\r\n                  <input\r\n                    id=\"lastName\"\r\n                    name=\"lastName\"\r\n                    type=\"text\"\r\n                    autoComplete=\"family-name\"\r\n                    required\r\n                    value={formData.lastName}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${getFieldError('lastName') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                    placeholder=\"Enter your last name\"\r\n                  />\r\n                  {getFieldError('lastName') && (\r\n                    <p className=\"form-error\">{getFieldError('lastName')}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\" className=\"form-label\">\r\n                  Phone Number *\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                    <Phone className=\"h-5 w-5 text-gray-400\" />\r\n                  </div>\r\n                  <input\r\n                    id=\"phone\"\r\n                    name=\"phone\"\r\n                    type=\"tel\"\r\n                    autoComplete=\"tel\"\r\n                    required\r\n                    value={formData.phone}\r\n                    onChange={handleChange}\r\n                    className={`input-field pl-10 ${getFieldError('phone') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                    placeholder=\"Enter your phone number\"\r\n                  />\r\n                </div>\r\n                {getFieldError('phone') && (\r\n                  <p className=\"form-error\">{getFieldError('phone')}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Address Section */}\r\n            <div className=\"form-section\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-6 flex items-center\">\r\n                <MapPin className=\"h-5 w-5 mr-2 text-blue-600\" />\r\n                Address\r\n              </h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"address.street\" className=\"form-label\">\r\n                  Street Address *\r\n                </label>\r\n                <input\r\n                  id=\"address.street\"\r\n                  name=\"address.street\"\r\n                  type=\"text\"\r\n                  autoComplete=\"street-address\"\r\n                  required\r\n                  value={formData.address.street}\r\n                  onChange={handleChange}\r\n                  className={`input-field ${getFieldError('address.street') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                  placeholder=\"Enter street address\"\r\n                />\r\n                {getFieldError('address.street') && (\r\n                  <p className=\"form-error\">{getFieldError('address.street')}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"address.city\" className=\"form-label\">\r\n                    City *\r\n                  </label>\r\n                  <input\r\n                    id=\"address.city\"\r\n                    name=\"address.city\"\r\n                    type=\"text\"\r\n                    autoComplete=\"address-level2\"\r\n                    required\r\n                    value={formData.address.city}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${getFieldError('address.city') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                    placeholder=\"City\"\r\n                  />\r\n                  {getFieldError('address.city') && (\r\n                    <p className=\"form-error\">{getFieldError('address.city')}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"address.state\" className=\"form-label\">\r\n                    State *\r\n                  </label>\r\n                  <input\r\n                    id=\"address.state\"\r\n                    name=\"address.state\"\r\n                    type=\"text\"\r\n                    autoComplete=\"address-level1\"\r\n                    required\r\n                    value={formData.address.state}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${getFieldError('address.state') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                    placeholder=\"State\"\r\n                  />\r\n                  {getFieldError('address.state') && (\r\n                    <p className=\"form-error\">{getFieldError('address.state')}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"address.zipCode\" className=\"form-label\">\r\n                    ZIP Code *\r\n                  </label>\r\n                  <input\r\n                    id=\"address.zipCode\"\r\n                    name=\"address.zipCode\"\r\n                    type=\"text\"\r\n                    autoComplete=\"postal-code\"\r\n                    required\r\n                    value={formData.address.zipCode}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${getFieldError('address.zipCode') ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                    placeholder=\"ZIP Code\"\r\n                  />\r\n                  {getFieldError('address.zipCode') && (\r\n                    <p className=\"form-error\">{getFieldError('address.zipCode')}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Additional Guests Section */}\r\n            <div className=\"form-section\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-900 flex items-center\">\r\n                  <Users className=\"h-5 w-5 mr-2 text-blue-600\" />\r\n                  Additional Guests\r\n                </h3>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={addGuest}\r\n                  className=\"btn-secondary flex items-center\"\r\n                >\r\n                  <Plus className=\"h-4 w-4 mr-2\" />\r\n                  Add Guest\r\n                </button>\r\n              </div>\r\n\r\n              {formData.additionalGuests.length === 0 && (\r\n                <p className=\"text-gray-500 text-center py-4\">\r\n                  No additional guests added yet. Click \"Add Guest\" to include family members or roommates.\r\n                </p>\r\n              )}\r\n\r\n              {formData.additionalGuests.map((guest, index) => (\r\n                <div key={guest.id} className=\"border border-gray-200 rounded-lg p-4 mb-4\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <h4 className=\"font-medium text-gray-900\">Guest {index + 1}</h4>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeGuest(guest.id)}\r\n                      className=\"text-red-600 hover:text-red-800 p-1\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">First Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={guest.firstName}\r\n                        onChange={(e) => updateGuest(guest.id, 'firstName', e.target.value)}\r\n                        className={`input-field ${getFieldError(`guest${index}FirstName`) ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                        placeholder=\"First name\"\r\n                      />\r\n                      {getFieldError(`guest${index}FirstName`) && (\r\n                        <p className=\"form-error\">{getFieldError(`guest${index}FirstName`)}</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Last Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={guest.lastName}\r\n                        onChange={(e) => updateGuest(guest.id, 'lastName', e.target.value)}\r\n                        className={`input-field ${getFieldError(`guest${index}LastName`) ? 'border-red-300 focus:ring-red-500' : ''}`}\r\n                        placeholder=\"Last name\"\r\n                      />\r\n                      {getFieldError(`guest${index}LastName`) && (\r\n                        <p className=\"form-error\">{getFieldError(`guest${index}LastName`)}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      id={`adult-${guest.id}`}\r\n                      type=\"checkbox\"\r\n                      checked={guest.isAdult}\r\n                      onChange={(e) => updateGuest(guest.id, 'isAdult', e.target.checked)}\r\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                    />\r\n                    <label htmlFor={`adult-${guest.id}`} className=\"ml-2 text-sm text-gray-700\">\r\n                      Adult (18+ years old)\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <div className=\"flex justify-end space-x-4\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate('/dashboard')}\r\n                className=\"btn-secondary\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"btn-primary flex items-center\"\r\n              >\r\n                {isLoading ? (\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                ) : (\r\n                  <Save className=\"h-4 w-4 mr-2\" />\r\n                )}\r\n                {existingApplication ? 'Update Application' : 'Submit Application'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Application;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}